{{!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purchase Invoice</title>
   
    <style>
    @page{
    margin-top:20px;
    }
      body {
        font-family: Arial, sans-serif;
        padding: 10px;
        margin: 0;
        background-color: #ffffff;
      }
      .invoice-container {
        width: 100%;
        max-width: 730px;
        margin: auto;
        background: white;
        padding: 20px;
      }
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 30px;
      }
      .top h1 {
        color: #3e206d;
        font-size: 20px;
        text-align: center;
        justify-items: center;
        align-items: center;
      }
      .headerp {
        font-size: 14px;
        line-height: 10px;
      }
         .label {
    color: #929292; /* Gray color for labels */
    font-weight: 500;
  }
  
  .value {
    color: #000000; /* Dark color for values */
    font-weight: normal;
  }
      .logo {
        width: 180px;
        height: auto;
      }
      .bold {
        font-weight: 550;
        font-size: 14px;
      }
      .table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      .table th,
      .table td {
        border-left: none; 
        border-right: none; 
        padding: 15px;
        text-align: left;
      }
      .table th {
        background-color: #f8f8f8;
        font-size: 14px;
        font-weight: ;
        justify-items: center;
        border-bottom: 1px solid #ddd;
      }
      .tabledata {
        font-size: 14px;
        font-weight: bold;
        color: #666666;
      }
      .table td {
        text-align: left;
      }
      .footer {
        text-align: center;
        font-size: 12px;
        margin-top: 60px;
        color: #8492A3;
      }
      .section1 {
        margin-top: 10px;
      }
      .section2 {
        margin-top: 10px;
      }
      .section3 {
        margin-top: 10px;
      }
        .section {
        page-break-inside: avoid; /* Avoid page breaks inside these sections */
      }
      .ptext {
        font-size: 14px;
      }
    </style>
</head>
<body>
    <div class="invoice-container">
        <!-- Header Section -->
        <div class="top">
            <h1>INVOICE</h1>
        </div>
        <div class="header">
            <div>
                <p><span style="font-weight: 550; font-size: 16px">Polygon Agro Holdings (Private) Ltd</span></p>
                <p class="headerp">No. 42/46, Nawam Mawatha, Colombo 02.</p>
                <p class="headerp">Contact No : +94 770 111 999</p>
                <p class="headerp">Email Address : info@polygon.lk</p>
            </div>
            <div>
                <img src="https://pub-79ee03a4a23e4dbbb70c7d799d3cb786.r2.dev/POLYGON%20ORIGINAL%20LOGO.png" alt="Polygon Logo" class="logo" />
            </div>
        </div>

        <!-- Billing Section -->
        <div class="section1" style="display: flex; justify-content: space-between">
            <div>
                <p class="bold">Bill To :</p>
                <p class="headerp">{{safe order.customerInfo "title"}}.{{safe order.customerInfo "firstName"}} {{safe order.customerInfo "lastName"}}</p>
                <p class="headerp"> +94 {{safe order.customerInfo "phoneNumber"}}</p>
                <p class="headerp">{{safe customerData "email"}}</p>
     <!-- Previous template content remains the same until the conditional section -->

 <div style="margin-top: 10px">
                    {{#if (isEqual (safe order.customerInfo "buildingType") "Apartment")}}
                        <p class="bold">Apartment Address :</p>
                        <p class="headerp"><span class="label">House No:</span> <span class="value">{{safe customerData.buildingDetails "houseNo"}}</span></p>
                        <p class="headerp"><span class="label">Floor No:</span> <span class="value">{{safe customerData.buildingDetails "floorNo"}}</span></p>
                        <p class="headerp"><span class="label">Building No:</span> <span class="value">{{safe customerData.buildingDetails "buildingNo"}}</span></p>
                        <p class="headerp"><span class="label">Building Name:</span> <span class="value">{{safe customerData.buildingDetails "buildingName"}}</span></p>
                        <p class="headerp"><span class="label">Unit No:</span> <span class="value">{{safe customerData.buildingDetails "unitNo"}}</span></p>
                        <p class="headerp"><span class="label">Street:</span> <span class="value">{{safe customerData.buildingDetails "streetName"}}</span></p>
                        <p class="headerp"><span class="label">City:</span> <span class="value">{{safe customerData.buildingDetails "city"}}</span></p>
                    {{else}}
                        <p class="bold">House Address :</p>
                        <p class="headerp"><span class="label">House No:</span> <span class="value">{{safe customerData.buildingDetails "houseNo"}}</span></p>
                        <p class="headerp"><span class="label">Street:</span> <span class="value">{{safe customerData.buildingDetails "streetName"}}</span></p>
                        <p class="headerp"><span class="label">City:</span> <span class="value">{{safe customerData.buildingDetails "city"}}</span></p>
                    {{/if}}
                </div>

<!-- Rest of the template remains the same -->
            </div>
            <div>
                <div style="margin-right: 55px">
                    <p class="bold">Grand Total :</p>
                    <p style="font-weight: 550; font-size: 16px">Rs. {{formatCurrency totalAmount}}</p>
                    <div class="section" style="margin-top: 30px">
                        <p class="bold">Payment Method :</p>
                        <p class="headerp">{{safe order "paymentMethod"}}</p>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <div class="section2" style="display: flex; justify-content: space-between">
                <div>
                    <p class="bold">Invoice No :</p>
                    <p class="headerp">{{invoiceNumber}}</p>
                </div>
                <div style="margin-right: 79px">
                    <p class="bold">Ordered Date :</p>
                    <p class="headerp">{{formatDate order.createdAt}}</p>
                </div>
            </div>

            <div class="section2" style="display: flex; justify-content: space-between">
                <div>
                    <p class="bold">Delivery Method :</p>
                    <p class="headerp">Home Delivery</p>
                </div>
                <div style="margin-right: 64px">
                    <p class="bold">Scheduled Date :</p>
                    <p class="headerp">{{formatDate order.scheduleDate}}</p>
                </div>
            </div>
        </div>

        <!-- Payment Method Section -->
        <div style="margin-top: -10px; display: flex; justify-content: space-between; font-size: 16px; font-weight: 600; margin-right: 20px;">
            <p>Grand Total</p>
            <p>Rs. {{formatCurrency totalAmount}}</p>
        </div>

        <!-- Remarks Section -->
        <div class="section">
            <p style="margin-top: 50px; display: flex; justify-content: space-between; font-size: 14px; font-weight: 600;">
                Remarks :
            </p>
            <div style="color: #666666; font-size: 12px; line-height: 10px;">
                <p>Kindly inspect all goods at the time of delivery to ensure accuracy and condition.</p>
                <p>Polygon does not accept returns under any circumstances.</p>
                <p>Please report any issues or discrepancies within 24 hours of delivery to ensure prompt attention.</p>
                <p>For any assistance, feel free to contact our customer service team.</p>
            </div>
        </div>

        <!-- Footer Section -->
        <div class="footer">
            <p style="margin-top: 50px; font-size: 16px; font-weight: 600; color:#000; font-style:italic">Thank you for shopping with us!</p>
            <p style="margin-top: -5px; font-size: 14px; font-weight: 500; color:#4B4B4B; font-style:italic">WE WILL SEND YOU MORE OFFERS, LOWEST PRICED VEGGIES FROM US.</p>
            <p style="margin-top: 50px; font-style:italic">
                - THIS IS A COMPUTER GENERATED INVOICE, THUS NO SIGNATURE REQUIRED -
            </p>
        </div>
    </div>
</body>
</html> --}}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Purchase Invoice</title>
    <style>
        @page {
            margin: 0;
        }
    </style>
</head>
<body style="font-family: Arial, sans-serif; padding: 10px; margin: 0; background-color: #ffffff;">
    <div style="width: 100%; max-width: 760px; margin: auto; background: white; padding: 20px;">
        <!-- Header Section -->
        <div style="text-align: center;">
            <h1 style="color: #3e206d; font-size: 20px; text-align: center; margin: 0;">INVOICE</h1>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px;">
            <div>
                <p style="margin: 0;"><span style="font-size: 16px; font-weight: 600; ">Polygon Holdings (Private) Ltd.</span></p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">No. 42/46, Nawam Mawatha, Colombo 02.</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">Contact No : +94 770 111 999</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">Email Address : info@polygon.lk</p>
            </div>
            <div>
                <img src="https://pub-79ee03a4a23e4dbbb70c7d799d3cb786.r2.dev/POLYGON%20ORIGINAL%20LOGO.png" alt="Polygon Logo" style="width: 180px; height: auto; "/>
            </div>
        </div>

        <!-- Billing Section -->
        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
            <div>
                <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Bill To :</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">Mrs. Ahinsa Perera</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">No.11/A, Main Road, Kollupitiya</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">+94 780 121 400</p>
                <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">ahinsa@gmail.com</p>
            </div>
            <div>
                <div style="margin-right: 55px">
                    <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Grand Total :</p>
                    <p style="font-weight: 550; font-size: 16px; margin: 5px 0;">Rs. 4,885.00</p>
                    <div style="margin-top: 30px">
                        <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Payment Method :</p>
                        <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">Debit / Credit Card</p>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                <div>
                    <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Invoice No :</p>
                    <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">22123100002</p>
                </div>
                <div style="margin-right: 79px">
                    <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Ordered Date :</p>
                    <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">24-May-2025</p>
                </div>
            </div>

            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                <div>
                    <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Delivery Method :</p>
                    <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">Home Delivery</p>
                </div>
                <div style="margin-right: 64px">
                    <p style="font-weight: 550; font-size: 14px; margin: 5px 0;">Scheduled Date :</p>
                    <p style="font-size: 14px; line-height: 10px; margin: 5px 0;">24-May-2025</p>
                </div>
            </div>
        </div>

        <!-- Order Items Section -->
        <div style="margin-top: 40px; margin-bottom: 30px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
                <div style="font-weight: 550; font-size: 14px;">Family Pack for 2 (03 Items)</div>
                <div style="font-weight: 550; font-size: 16px;">Rs. 380.00</div>
            </div>
            <div style="border: 1px solid #ddd; border-radius: 10px;">
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
                    <tr>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: center; border-top-left-radius: 10px;">Index</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left;">Item Description</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left; width: 40%; border-top-right-radius: 10px;">QTY</th>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">1</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Up Country Fruits</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">05</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">2</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Low Country Fruits</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">05</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">3</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Low Country Vegetables</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">10</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Additional Items Section -->
        <div style="margin-top: 10px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
                <div style="font-weight: 550; font-size: 14px;">Additional Items (03 Items)</div>
                <div style="font-weight: 550; font-size: 16px;">Rs. 380.00</div>
            </div>
            <div style="border: 1px solid #ddd; border-radius: 10px;">
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
                    <tr>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: center; border-top-left-radius: 10px;">Index</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left;">Item Description</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left;">Unit Price (Rs.)</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left;">QTY</th>
                        <th style="background-color: #f8f8f8; font-size: 14px; font-weight: 100; border-bottom: 1px solid #ddd; padding: 15px; text-align: left; border-top-right-radius: 10px;">Amount (Rs.)</th>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">1</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Papaya</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">200.00</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">1kg</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">200.00</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">2</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Lettuce</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">200.00</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">500g</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">100.00</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px; text-align: center;">3</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">Beans</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">200.00</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">800g</td>
                        <td style="font-size: 14px; font-weight: bold; color: #666666; padding: 15px; text-align: left;">80.00</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Grand Total Section -->
        <div style="margin-top: 30px;">
            <div style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
                <div style="font-weight: 550; font-size: 14px;">Grand Total for all items</div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-right: 20px; font-size: 14px;">
                <p style="margin: 5px 0;">Family Pack for 2</p>
                <p style="margin: 5px 0;">Rs. 380.00</p>
            </div>
            <div style="display: flex; justify-content: space-between; margin-right: 20px; font-size: 14px;">
                <p style="margin: 5px 0;">Additional Items</p>
                <p style="margin: 5px 0;">Rs. 380.00</p>
            </div>
            <div style="display: flex; justify-content: space-between; margin-right: 20px; font-size: 14px;">
                <p style="margin: 5px 0;">Delivery Fee</p>
                <p style="margin: 5px 0;">Rs. 380.00</p>
            </div>

            <div style="margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px;"></div>
        </div>

        <!-- Payment Method Section -->
        <div style="margin-top: -10px; display: flex; justify-content: space-between; font-size: 16px; font-weight: 600; margin-right: 20px;">
            <p style="margin: 5px 0;">Grand Total</p>
            <p style="margin: 5px 0;">Rs. 1,150.00</p>
        </div>

        <!-- Remarks Section -->
        <div style="margin-top: 10px;">
            <p style="margin-top: 50px; display: flex; justify-content: space-between; font-size: 14px; font-weight: 600;">
                Remarks :
            </p>

            <div style="color: #666666; font-size: 12px; line-height: 10px;">
                <p style="margin: 5px 0;">Kindly inspect all goods at the time of delivery to ensure accuracy and condition.</p>
                <p style="margin: 5px 0;">Polygon does not accept returns under any circumstances.</p>
                <p style="margin: 5px 0;">Please report any issues or discrepancies within 24 hours of delivery to ensure prompt attention.</p>
                <p style="margin: 5px 0;">For any assistance, feel free to contact our customer service team.</p>
            </div>
        </div>

        <!-- Footer Section -->
        <div style="text-align: center; font-size: 12px; margin-top: 60px; color: #8492A3;">
            <p style="margin-top: 50px; font-size: 16px; font-weight: 600; color:#000; font-style:italic; margin: 10px 0;">Thank you for shopping with us!</p>
            <p style="margin-top: -5px; font-size: 14px; font-weight: 500; color:#4B4B4B; font-style:italic; margin: 10px 0;">WE WILL SEND YOU MORE OFFERS, LOWEST PRICED VEGGIES FROM US.</p>
            <p style="margin-top: 50px; font-style:italic; margin: 10px 0;">
                - THIS IS A COMPUTER GENERATED INVOICE, THUS NO SIGNATURE REQUIRED -
            </p>
        </div>
    </div>
</body>
</html>